{"ast":null,"code":"var _jsxFileName = \"D:\\\\SLIIT\\\\Y2 S2\\\\ITP\\\\ITP_DOWNLOADED\\\\itp_project-kdy-_2021_-wd02-main\\\\Evento365\\\\evento_frontend\\\\react-frontend\\\\src\\\\bookingComponents\\\\ViewBookingComponent.jsx\";\nimport React, { Component } from 'react';\nimport BookingService from '../bookingServices/BookingService';\nimport LocationService from '../bookingServices/LocationService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ViewBookingComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      booking: {},\n      time: {},\n      seconds: 10,\n      items: [],\n      approvedFlag: 0\n    };\n    this.timer = 0;\n    this.startTimer = this.startTimer.bind(this);\n    this.countDown = this.countDown.bind(this);\n    this.editBooking = this.editBooking.bind(this);\n    this.deleteBooking = this.deleteBooking.bind(this);\n    this.chechZero = this.chechZero.bind(this);\n    this.payNowBooking = this.payNowBooking(this);\n  }\n\n  chechZero() {\n    if (this.state.time.h == 0 && this.state.time.m == 0 && this.state.time.s == 0) {\n      console.log(this.state.booking.status, \"DONE\");\n\n      if (this.state.booking.status == 'pending') {\n        BookingService.deleteBooking(this.state.id).then(res => {\n          this.props.history.push(`/add-bookings/_add`);\n        });\n      }\n    }\n  }\n\n  secondsToTime(secs) {\n    let hours = Math.floor(secs / (60 * 60));\n    let divisor_for_minutes = secs % (60 * 60);\n    let minutes = Math.floor(divisor_for_minutes / 60);\n    let divisor_for_seconds = divisor_for_minutes % 60;\n    let seconds = Math.ceil(divisor_for_seconds);\n    let obj = {\n      \"h\": hours,\n      \"m\": minutes,\n      \"s\": seconds\n    };\n    return obj;\n  }\n\n  countDown() {\n    // Remove one second, set state so a re-render happens.\n    let seconds = this.state.seconds - 1;\n    this.setState({\n      time: this.secondsToTime(seconds),\n      seconds: seconds\n    }); // Check if we're at zero.\n\n    if (seconds == 0) {\n      clearInterval(this.timer);\n    }\n  }\n\n  componentDidMount() {\n    // this.state.items =sessionStorage.getItem('locationName');\n    // this.state.items =JSON.parse(this.state.items);\n    //console.log(this.state.items,\"LOCAAAAAAA\");\n    var dbDate;\n    BookingService.getBookingById(this.state.id).then(res => {\n      this.setState({\n        booking: res.data\n      });\n      LocationService.getLocationById(res.data.location_id).then(res => {\n        this.setState({\n          items: res.data\n        });\n      });\n      dbDate = new Date(res.data.date); //console.log(dbDate,\"DATEEEEEEEEEEEE\");\n\n      var date = new Date();\n      var date2 = dbDate.getTime() + 24 * 60 * 60 * 1000 + 10000;\n      var diffTime = date2 - date;\n      if (diffTime < 0 || this.state.approvedFlag == 1) diffTime = 0;\n      this.state.seconds = diffTime / 1000;\n      this.startTimer();\n      let timeLeftVar = this.secondsToTime(this.state.seconds);\n      this.setState({\n        time: timeLeftVar\n      });\n    });\n  }\n\n  startTimer() {\n    if (this.timer == 0 && this.state.seconds > 0) {\n      this.timer = setInterval(this.countDown, 1000);\n    }\n  }\n\n  editBooking(id) {\n    this.props.history.push(`/add-bookings/${id}`);\n  }\n\n  deleteBooking(id) {\n    BookingService.deleteBooking(id).then(res => {\n      this.props.history.push(`/add-bookings/_add`);\n    });\n  }\n\n  status() {\n    if (this.state.booking.status == 'pending') {\n      var date = new Date(this.state.booking.date);\n      var nextDay = date.getTime() + 24 * 60 * 60 * 1000 + 8000;\n      nextDay = new Date(nextDay);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" Your Booking is pending.... pay before\", \" \" + nextDay.getFullYear() + \"/\" + (nextDay.getMonth() + 1) + \"/\" + nextDay.getDate()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this);\n    } else if (this.state.booking.status == 'approved') {\n      this.state.approvedFlag = 1;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Your Booking is approved... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Your Booking is approved... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n  payNowBooking() {\n    let payBooking = {\n      id: this.state.id,\n      cusid: this.state.customer_id,\n      total: this.state.booking.total\n    };\n    sessionStorage.setItem('payBooking', JSON.stringify(payBooking));\n    this.props.history.push(`/addpaydetails`);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        class: \"section background-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"line text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            class: \"text-dark text-s-size-30 text-m-size-40 text-l-size-40 text-thin text-line-height-1\",\n            children: this.status()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          class: \"full-width background-white \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"lable\", {\n                onChange: this.chechZero(),\n                children: [\"Time remaining\", /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"formDivgg2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        paddingLeft: \"20px\"\n                      },\n                      children: [this.state.time.h < 10 ? \"0\" + this.state.time.h : this.state.time.h, \" :\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 68\n                    }, this), \" Hours\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"formDivgg2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        paddingLeft: \"30px\"\n                      },\n                      children: [this.state.time.m < 10 ? \"0\" + this.state.time.m : this.state.time.m, \" :\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 68\n                    }, this), \" Minutes\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"formDivgg2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        paddingLeft: \"30px\",\n                        paddingRight: \"20px\"\n                      },\n                      children: [this.state.time.s < 10 ? \"0\" + this.state.time.s : this.state.time.s == 60 ? \"00\" : this.state.time.s, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 68\n                    }, this), \" Seconds\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container shadow-custom bg-image formDivgg\",\n            style: {\n              backgroundImage: \"url('https://www.bricoflor.co.uk/media/catalog/product/cache/7/image/1250x1250/9df78eab33525d08d6e5fb8d27136e95/3/0/305451_8.jpg')\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shadow-custom\",\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-center formDivgg col-md-6 offset-md-3\",\n                style: {\n                  width: \"1000px\"\n                },\n                children: \"Booking Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formDivgg col-md-6 offset-md-3\",\n                style: {\n                  width: \"500px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"center\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Booking ID\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 45\n                      }, this), \" : \", this.state.booking.booking_id, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Booking Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 208,\n                        columnNumber: 45\n                      }, this), \" :\", \" \" + this.state.booking.booking_date, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Event Type\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 213,\n                        columnNumber: 45\n                      }, this), \" : \" + this.state.booking.event_type, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    align: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Location\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 45\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\" \", this.state.items.locationName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        height: \"200px\",\n                        width: \"300px\"\n                      },\n                      src: this.state.items.picture,\n                      className: \"img-thumbnail formDivgg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"No of guests\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 45\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\" \", this.state.booking.gusts, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                        children: \"Total Amount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 44\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [\" \", this.state.booking.total, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => this.editBooking(this.state.booking.booking_id),\n                      disabled: this.state.approvedFlag == 1 ? true : false,\n                      className: \"btn btn-info formDivgg\",\n                      children: \"Update My Booking\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        marginLeft: \"10px\"\n                      },\n                      disabled: this.state.approvedFlag == 1 ? true : false,\n                      onClick: () => {\n                        const confirmBox = window.confirm(\"Do you really want to cancel your booking?\");\n\n                        if (confirmBox === true) {\n                          this.deleteBooking(this.state.booking.booking_id);\n                        }\n                      },\n                      className: \"btn btn-danger formDivgg\",\n                      children: \"Cancel My Booking\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 38\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: this.payNowBooking(),\n                      disabled: this.state.approvedFlag == 1 ? true : false,\n                      className: \"btn btn-success formDivgg\",\n                      children: \"Pay Now\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ViewBookingComponent;","map":{"version":3,"sources":["D:/SLIIT/Y2 S2/ITP/ITP_DOWNLOADED/itp_project-kdy-_2021_-wd02-main/Evento365/evento_frontend/react-frontend/src/bookingComponents/ViewBookingComponent.jsx"],"names":["React","Component","BookingService","LocationService","ViewBookingComponent","constructor","props","state","id","match","params","booking","time","seconds","items","approvedFlag","timer","startTimer","bind","countDown","editBooking","deleteBooking","chechZero","payNowBooking","h","m","s","console","log","status","then","res","history","push","secondsToTime","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","ceil","obj","setState","clearInterval","componentDidMount","dbDate","getBookingById","data","getLocationById","location_id","Date","date","date2","getTime","diffTime","timeLeftVar","setInterval","nextDay","getFullYear","getMonth","getDate","payBooking","cusid","customer_id","total","sessionStorage","setItem","JSON","stringify","render","paddingLeft","paddingRight","backgroundImage","width","booking_id","booking_date","event_type","locationName","height","picture","gusts","marginLeft","confirmBox","window","confirm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport BookingService from '../bookingServices/BookingService';\nimport LocationService from '../bookingServices/LocationService';\n\nclass ViewBookingComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            id: this.props.match.params.id,\n            booking: {},\n            time: {},\n            seconds: 10,\n            items:[],\n            approvedFlag:0,\n\n        }\n\n        this.timer = 0;\n        this.startTimer = this.startTimer.bind(this);\n        this.countDown = this.countDown.bind(this);\n        this.editBooking = this.editBooking.bind(this);\n        this.deleteBooking = this.deleteBooking.bind(this);\n        this.chechZero = this.chechZero.bind(this);\n        this.payNowBooking =this. payNowBooking(this);\n    }\n\n    chechZero() {\n        if (this.state.time.h == 0 && this.state.time.m == 0 && this.state.time.s == 0) {\n            console.log(this.state.booking.status, \"DONE\");\n\n            if (this.state.booking.status == 'pending') {\n                BookingService.deleteBooking(this.state.id).then(res => {\n                    this.props.history.push(`/add-bookings/_add`);\n                });\n            }\n\n\n        }\n    }\n\n    secondsToTime(secs) {\n        let hours = Math.floor(secs / (60 * 60));\n\n        let divisor_for_minutes = secs % (60 * 60);\n        let minutes = Math.floor(divisor_for_minutes / 60);\n\n        let divisor_for_seconds = divisor_for_minutes % 60;\n        let seconds = Math.ceil(divisor_for_seconds);\n\n        let obj = {\n            \"h\": hours,\n            \"m\": minutes,\n            \"s\": seconds\n        };\n        return obj;\n    }\n\n    countDown() {\n        // Remove one second, set state so a re-render happens.\n        let seconds = this.state.seconds - 1;\n        this.setState({\n            time: this.secondsToTime(seconds),\n            seconds: seconds,\n        });\n\n        // Check if we're at zero.\n        if (seconds == 0) {\n            clearInterval(this.timer);\n\n        }\n    }\n\n\n\n    componentDidMount() {\n\n        // this.state.items =sessionStorage.getItem('locationName');\n        // this.state.items =JSON.parse(this.state.items);\n        //console.log(this.state.items,\"LOCAAAAAAA\");\n\n        var dbDate;\n        BookingService.getBookingById(this.state.id).then(res => {\n            this.setState({ booking: res.data });\n\n        LocationService.getLocationById(res.data.location_id).then(res=>{\n                this.setState({\n                    items: res.data\n                });\n            });\n\n\n            dbDate = new Date(res.data.date);\n\n            //console.log(dbDate,\"DATEEEEEEEEEEEE\");\n\n\n            var date = new Date();\n            var date2 = dbDate.getTime() + (24 * 60 * 60 * 1000) + 10000;\n\n            var diffTime = (date2 - date);\n            if(diffTime < 0 || this.state.approvedFlag==1)\n                diffTime=0;\n            this.state.seconds = diffTime / 1000;\n\n            this.startTimer();\n\n            let timeLeftVar = this.secondsToTime(this.state.seconds);\n            this.setState({ time: timeLeftVar });\n        });\n\n    }\n\n\n    startTimer() {\n        if (this.timer == 0 && this.state.seconds > 0) {\n            this.timer = setInterval(this.countDown, 1000);\n        }\n    }\n\n\n    editBooking(id) {\n        this.props.history.push(`/add-bookings/${id}`);\n\n    }\n\n    deleteBooking(id) {\n        BookingService.deleteBooking(id).then(res => {\n            this.props.history.push(`/add-bookings/_add`);\n        });\n    }\n\n    status(){\n        if(this.state.booking.status=='pending'){\n            var date =new Date(this.state.booking.date)\n            var nextDay = date.getTime() + (24 * 60 * 60 * 1000) + 8000;\n            nextDay = new Date(nextDay);\n            \n            return( <div> Your Booking is pending.... pay before \n                {\" \"+nextDay.getFullYear()+\"/\"+(nextDay.getMonth()+1)+\"/\"+nextDay.getDate()\n                    \n                }  \n            </div>);\n        \n        \n        }else if(this.state.booking.status=='approved'){\n            this.state.approvedFlag=1;\n            return( <div> Your Booking is approved... </div>); \n        }else{\n            return( <div> Your Booking is approved... </div>); \n        }\n    }\n\n\n    payNowBooking(){\n        let payBooking ={id:this.state.id, cusid:this.state.customer_id,total: this.state.booking.total};\n        sessionStorage.setItem('payBooking', JSON.stringify(payBooking));\n        \n        this.props.history.push(`/addpaydetails`);\n    }\n\n    render() {\n            \n        return (\n            <div>\n                <header class=\"section background-white\">\n\n                    <div class=\"line text-center\">\n                        <h2 class=\"text-dark text-s-size-30 text-m-size-40 text-l-size-40 text-thin text-line-height-1\">{this.status()}</h2>\n                        <br></br>\n                    </div>\n\n                    <section class=\"full-width background-white \">\n\n                        <div>\n\n                            <center>\n                                <lable onChange={this.chechZero()}>\n                                Time remaining\n                                    <ul >\n                                        <li className=\"formDivgg2\"><span style={{ paddingLeft: \"20px\" }}>{this.state.time.h<10?\"0\"+this.state.time.h:this.state.time.h} :</span> Hours</li>\n                                        <li className=\"formDivgg2\"><span style={{ paddingLeft: \"30px\" }}>{this.state.time.m<10?\"0\"+this.state.time.m:this.state.time.m} :</span> Minutes</li>\n                                        <li className=\"formDivgg2\"><span style={{ paddingLeft: \"30px\",paddingRight:\"20px\" }}>{this.state.time.s<10?\"0\"+this.state.time.s:this.state.time.s==60?\"00\":this.state.time.s} </span> Seconds</li>\n\n                                    </ul>\n\n                                </lable>\n                                    \n                            </center>\n                        </div>\n\n                        <br></br>\n                        <div className=\"container shadow-custom bg-image formDivgg\"\n                            style={{ backgroundImage: \"url('https://www.bricoflor.co.uk/media/catalog/product/cache/7/image/1250x1250/9df78eab33525d08d6e5fb8d27136e95/3/0/305451_8.jpg')\" }} >\n                         <br/>  \n                        <div className=\"shadow-custom\" >\n                        <br/> \n                           \n                            <h3 className=\"text-center formDivgg col-md-6 offset-md-3\"  style={{width:\"1000px\"}}>Booking Details</h3>\n                            <div className=\"formDivgg col-md-6 offset-md-3\"  style={{width:\"500px\"}}>\n                            <center>\n                                <div className=\"row\">\n                                    <label> <b>Booking ID</b> : {this.state.booking.booking_id} </label>\n                                </div>\n                                <br/>\n                                <div className=\"row\">\n                                    <label> <b>Booking Date</b> : \n                                     {\" \"+this.state.booking.booking_date} </label>\n                                </div>\n                                <br/>\n                                <div className=\"row\">\n                                    <label> <b>Event Type</b> \n                                     {\" : \"+this.state.booking.event_type} </label>\n                                </div>\n                                <br/>\n                                <div align=\"center\">\n                                    \n                                    <label> <b>Location</b> </label>\n                                    <div> {this.state.items.locationName}</div>\n                                    <img style={{ height: \"200px\", width: \"300px\"}} src={this.state.items.picture} className=\"img-thumbnail formDivgg\" />\n                                    \n                                </div>\n                                <br/>\n                                <div className=\"row\">\n                                    <label> <b>No of guests</b> </label>\n                                    <div> {this.state.booking.gusts} </div>\n                                </div>\n                                <br/>\n                                <div className=\"row\">\n                                    <label><b>Total Amount</b> </label>\n                                    <div> {this.state.booking.total} </div>\n                                </div>\n                                <br/>\n                                <div>\n                                    <button onClick={() => this.editBooking(this.state.booking.booking_id)} disabled={this.state.approvedFlag==1?true:false} className=\"btn btn-info formDivgg\">Update My Booking</button>\n                                    <button style={{ marginLeft: \"10px\" }} disabled={this.state.approvedFlag==1?true:false}\n                                        onClick={() => {\n                                            const confirmBox = window.confirm(\n                                                \"Do you really want to cancel your booking?\"\n                                            )\n                                            if (confirmBox === true) {\n                                                this.deleteBooking(this.state.booking.booking_id)\n                                            }\n                                        }}\n                                        className=\"btn btn-danger formDivgg\">Cancel My Booking</button>\n                                <br/><br/>\n                                <button onClick={this.payNowBooking()} disabled={this.state.approvedFlag==1?true:false} className=\"btn btn-success formDivgg\">Pay Now</button>   \n                                </div> \n                                </center>\n                            </div>\n                            <br/>  \n                        </div>\n                        <br/>  \n                        </div>\n                         \n                    </section>\n                    \n                </header>\n\n            </div>\n        );\n    }\n}\n\nexport default ViewBookingComponent;"]},"metadata":{},"sourceType":"module"}