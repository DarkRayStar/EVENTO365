{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\ITP Final\\\\ITP INDIKA ---} DULSHAN---} YASIRU\\\\itp_project-kdy-_2021_-wd02-main\\\\Evento365\\\\evento_frontend\\\\react-frontend\\\\src\\\\PaymentHandlingComponents\\\\MakePaymentComponent.jsx\";\nimport React, { Component } from 'react';\nimport PromoService from '../PaymentHandlingServices/PromoService';\nimport PaymentService from '../PaymentHandlingServices/PaymentService';\nimport \"../PaymentHandlingStyles/Payment.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MakePaymentComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.placeorder = e => {\n      if (this.state.paymentMethod !== \"Card Payment\" && this.state.paymentMethod !== \"Cash on Delivery\") {\n        alert(\"Please Select a Payment Method!\");\n      } else {\n        //make session\n        var data = sessionStorage.getItem('payBooking');\n        data = JSON.parse(data);\n        let obj = {\n          total: this.state.calTotal,\n          cusid: this.state.cusid\n        };\n        sessionStorage.setItem('AmountID', JSON.stringify(obj));\n        e.preventDefault();\n        let payorder = {\n          customerId: this.state.cusID,\n          customerName: this.state.cusName,\n          status: this.state.status,\n          promoID: this.state.promoid,\n          paymentMethod: this.state.paymentMethod,\n          description: this.state.description,\n          amount: this.state.calTotal,\n          paymentDate: this.state.currentDate,\n          payTypeID: this.state.payTypeID\n        };\n        let Promo_Code = {\n          code: this.state.code,\n          amount: this.state.amount,\n          count: this.state.count\n        };\n        console.log('payorder => ' + JSON.stringify(payorder));\n        console.log('Promo_Code => ' + JSON.stringify(Promo_Code));\n        PaymentService.placeorder(payorder).then(res => {\n          if (this.state.paymentMethod === \"Card Payment\") {\n            //console.log(tot);\n            //this.props.history.push(`/card/${tot}`);\n            this.props.history.push('/card');\n          } else if (this.state.paymentMethod === \"Cash on Delivery\") this.props.history.push('/complete');\n        });\n        this.state.count = this.state.count + 1;\n        PromoService.updatePromocode(Promo_Code, this.state.promoid).then(res => {});\n      }\n    };\n\n    this.changeCodeHandler = event => {\n      try {\n        this.setState({\n          code: event.target.value\n        });\n      } catch (error) {}\n\n      this.changeValue();\n    };\n\n    this.changedescriptionHandler = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        paymentMethod: event.target.value\n      });\n    };\n\n    this.test = event => {\n      this.setState({\n        code: event.target.value\n      });\n    };\n\n    var today = new Date(),\n        date = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();\n    this.state = {\n      code: '',\n      fetchedcode: '',\n      amount: '',\n      count: 0,\n      promoid: 0,\n      payTypeID: 0,\n      storeTotal: 2500,\n      calTotal: 0,\n      cusID: 11,\n      //cusID: 0,\n      cusName: '',\n      description: '',\n      paymentMethod: '',\n      status: \"pending\",\n      currentDate: date\n    };\n    this.changeCodeHandler = this.changeCodeHandler.bind(this);\n    this.retrievecode = this.retrievecode.bind(this);\n    this.placeorder = this.placeorder.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.changedescriptionHandler = this.changedescriptionHandler.bind(this);\n    this.test = this.test.bind(this);\n    this.passCussId = this.passCussId.bind(this);\n    this.state.calTotal = this.state.storeTotal;\n  }\n\n  componentDidMount() {\n    /* var data = sessionStorage.getItem('payBooking');\n     data = JSON.parse(data);\n     console.log(data, \"RETURN VALUES from booking\");\n      this.setState({\n         \n         payTypeID: data.id,\n         storeTotal: data.total,\n         calTotal: data.total\n     })*/\n    var data = sessionStorage.getItem('payBooking');\n    data = JSON.parse(data);\n    PaymentService.getCustomerById(this.state.cusid).then(res => {\n      let Customer = res.data;\n      console.log(Customer, \"got the customer name\");\n      this.setState({\n        cusName: Customer.name\n      });\n    });\n    this.passCussId();\n  }\n\n  passCussId() {\n    var data = sessionStorage.getItem('payBooking');\n    data = JSON.parse(data);\n    sessionStorage.setItem('passCID', state.state.cusid);\n    var data = sessionStorage.getItem('test');\n    console.log(data, \"SESSION Passed Cutomer Id\");\n  }\n\n  retrievecode() {\n    this.changeValue();\n  }\n\n  changeValue() {\n    //if(this.state.send == true) {\n    console.log(\"Promocode: \" + this.state.code); //this.state.code;\n\n    PromoService.getPromocodeBycode(this.state.code).then(res => {\n      let Promo_Code = res.data;\n      console.log(Promo_Code, \"got the data\");\n\n      try {\n        this.setState({\n          fetchedcode: Promo_Code[0].code,\n          amount: Promo_Code[0].amount,\n          count: Promo_Code[0].count,\n          promoid: Promo_Code[0].promo_ID\n        }); //console.log(this.state.calTotal);\n\n        this.caltotal();\n        console.log(this.state.calTotal);\n      } catch (error) {\n        //this.state.code = 'ROSE19';\n        //alert display\n        if (this.state.code == '') alert(\"Please, Enter a Value!\");else alert(\"You have Entered an Incorrect Value!\");\n      }\n    });\n  }\n\n  caltotal() {\n    if (this.state.count == 0) alert(\"Expired Promo code, Please Enter a Valid One!\");else if (this.state.code == this.state.fetchedcode && this.state.count > 0) {\n      this.state.calTotal = this.state.storeTotal - this.state.amount;\n      this.state.count = this.state.count - 1;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 100,\n        marginBottom: 100\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        style: {\n          marginTop: 75\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                class: \"card-title\",\n                children: \"Payment Methods\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 72\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 78\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 84\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    value: \"Card Payment\",\n                    name: \"paymethod\",\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 37\n                  }, this), \" Card Payment \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 141\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 147\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    value: \"Cash on Delivery\",\n                    name: \"paymethod\",\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 37\n                  }, this), \" Cash on Delivery\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    float: \"left\"\n                  },\n                  children: \" Transaction Date: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"datewidth\",\n                  children: this.state.currentDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \" Description \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginTop: 15\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      placeholder: \"Sender Remark...\",\n                      name: \"description\",\n                      className: \"form-control\",\n                      value: this.state.description,\n                      onChange: this.changedescriptionHandler\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-sm-6\",\n          style: {\n            borderRadius: '20%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Order Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      float: \"left\"\n                    },\n                    children: \" Store Total \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"inputwidth\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontWeight: \"bold\"\n                        },\n                        children: [\"Rs. \", this.state.storeTotal]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \" Promo Code \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 64\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 70\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"samelinebtn\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"inputwidth2\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      placeholder: \"\",\n                      name: \"code\",\n                      className: \"form-control\",\n                      value: this.state.code,\n                      onChange: this.test\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"applybtn\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: this.retrievecode,\n                      children: \"APPLY\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n                  style: {\n                    color: '#000000',\n                    backgroundColor: '#000000',\n                    height: .5,\n                    borderColor: '#000000'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      float: \"left\"\n                    },\n                    children: \" Total \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"inputwidth\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          color: \"orange\",\n                          fontWeight: \"bold\"\n                        },\n                        children: [\"Rs. \", this.state.calTotal]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"placebtn\",\n                  onClick: this.placeorder,\n                  children: \"Place Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 10\n    }, this);\n  }\n\n}\n\nexport default MakePaymentComponent;","map":{"version":3,"sources":["C:/Users/USER/Desktop/ITP Final/ITP INDIKA ---} DULSHAN---} YASIRU/itp_project-kdy-_2021_-wd02-main/Evento365/evento_frontend/react-frontend/src/PaymentHandlingComponents/MakePaymentComponent.jsx"],"names":["React","Component","PromoService","PaymentService","MakePaymentComponent","constructor","props","placeorder","e","state","paymentMethod","alert","data","sessionStorage","getItem","JSON","parse","obj","total","calTotal","cusid","setItem","stringify","preventDefault","payorder","customerId","cusID","customerName","cusName","status","promoID","promoid","description","amount","paymentDate","currentDate","payTypeID","Promo_Code","code","count","console","log","then","res","history","push","updatePromocode","changeCodeHandler","event","setState","target","value","error","changeValue","changedescriptionHandler","handleChange","test","today","Date","date","getDate","getMonth","getFullYear","fetchedcode","storeTotal","bind","retrievecode","passCussId","componentDidMount","getCustomerById","Customer","name","getPromocodeBycode","promo_ID","caltotal","render","marginTop","marginBottom","float","borderRadius","fontWeight","color","backgroundColor","height","borderColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PromoService from '../PaymentHandlingServices/PromoService';\nimport PaymentService from '../PaymentHandlingServices/PaymentService';\nimport \"../PaymentHandlingStyles/Payment.css\";\n\nclass MakePaymentComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        var today = new Date(),\n\n            date = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();\n\n\n        this.state = {\n            code:'',\n            fetchedcode: '',\n            amount: '',\n            count: 0,\n            promoid: 0,\n            payTypeID: 0,\n            storeTotal: 2500,\n            calTotal: 0,\n            cusID: 11,\n            //cusID: 0,\n            cusName: '',\n            description: '',\n            paymentMethod: '',\n            status: \"pending\",\n            currentDate: date\n        }\n        this.changeCodeHandler = this.changeCodeHandler.bind(this);\n        this.retrievecode = this.retrievecode.bind(this);\n        this.placeorder = this.placeorder.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.changedescriptionHandler = this.changedescriptionHandler.bind(this);\n        this.test = this.test.bind(this);\n        this.passCussId = this.passCussId.bind(this);\n        this.state.calTotal = this.state.storeTotal;\n    }\n\n    \n    componentDidMount(){\n\n       /* var data = sessionStorage.getItem('payBooking');\n        data = JSON.parse(data);\n        console.log(data, \"RETURN VALUES from booking\");\n\n        this.setState({\n            \n            payTypeID: data.id,\n            storeTotal: data.total,\n            calTotal: data.total\n        })*/\n\n        var data = sessionStorage.getItem('payBooking');\n        data = JSON.parse(data);\n\n        PaymentService.getCustomerById(this.state.cusid).then( (res) =>{\n            let Customer = res.data;\n            console.log(Customer, \"got the customer name\");\n            this.setState({cusName: Customer.name,\n\n            });\n        });\n\n        this.passCussId();\n\n\n    }\n\n    \n    passCussId() {\n        var data = sessionStorage.getItem('payBooking');\n        data = JSON.parse(data);\n\n        sessionStorage.setItem('passCID', state.state.cusid);\n        var data = sessionStorage.getItem('test');\n        console.log(data, \"SESSION Passed Cutomer Id\");\n        \n    }\n\n\n\n    retrievecode() {\n\n        this.changeValue();\n        \n    }\n\n    changeValue() {\n        //if(this.state.send == true) {\n\n        console.log(\"Promocode: \" + this.state.code);\n        //this.state.code;\n       \n            PromoService.getPromocodeBycode(this.state.code).then((res) => {\n                let Promo_Code = res.data;\n                console.log(Promo_Code, \"got the data\");\n                try {                 \n\n                this.setState({\n                    fetchedcode: Promo_Code[0].code,\n                    amount: Promo_Code[0].amount,\n                    count: Promo_Code[0].count,\n                    promoid: Promo_Code[0].promo_ID\n                });\n\n                //console.log(this.state.calTotal);\n               this.caltotal(); \n               console.log(this.state.calTotal);\n\n\n\n            } catch (error) {\n                    //this.state.code = 'ROSE19';\n                    //alert display\n                    if(this.state.code== '')\n                        alert(\"Please, Enter a Value!\")\n                    else\n                        alert(\"You have Entered an Incorrect Value!\")\n            }\n\n            });\n\n       \n    }\n\n    caltotal(){\n\n        if(this.state.count == 0 )\n         alert(\"Expired Promo code, Please Enter a Valid One!\")\n\n        else if(this.state.code==this.state.fetchedcode && this.state.count > 0 ){\n            this.state.calTotal = this.state.storeTotal - this.state.amount;\n            this.state.count = this.state.count - 1;\n            \n\n        }\n\n\n    }\n\n    placeorder = (e) => {\n\n        if(this.state.paymentMethod !== \"Card Payment\" && this.state.paymentMethod !== \"Cash on Delivery\"){\n            alert(\"Please Select a Payment Method!\")\n        }\n\n        else{\n\n         //make session\n         var data = sessionStorage.getItem('payBooking');\n         data = JSON.parse(data);\n         let obj = { total: this.state.calTotal, cusid: this.state.cusid };\n         sessionStorage.setItem('AmountID', JSON.stringify(obj));\n\n        e.preventDefault();\n        let payorder = {\n            customerId: this.state.cusID, customerName: this.state.cusName, status: this.state.status, promoID: this.state.promoid,\n            paymentMethod: this.state.paymentMethod, description: this.state.description, amount: this.state.calTotal, paymentDate: this.state.currentDate, payTypeID: this.state.payTypeID\n        };\n        let Promo_Code = {code: this.state.code, amount: this.state.amount,count: this.state.count};\n        console.log('payorder => ' + JSON.stringify(payorder));\n        console.log('Promo_Code => ' + JSON.stringify(Promo_Code));\n\n        PaymentService.placeorder(payorder).then(res => {\n\n            if (this.state.paymentMethod === \"Card Payment\"){\n\n                //console.log(tot);\n                //this.props.history.push(`/card/${tot}`);\n\n\n                this.props.history.push('/card');\n\n            }    \n\n            else if (this.state.paymentMethod === \"Cash on Delivery\")\n\n                \n                this.props.history.push('/complete');\n\n        });\n        this.state.count = this.state.count + 1;\n        PromoService.updatePromocode(Promo_Code, this.state.promoid).then( res => {\n\n        });\n    }\n    }\n\n\n    changeCodeHandler = (event) => {\n        try {\n            this.setState({ code: event.target.value });\n        } catch (error) {\n            \n        }\n        \n        \n        this.changeValue(); \n\n    }\n\n    changedescriptionHandler = (event) => {\n        this.setState({ description: event.target.value });\n    }\n\n    handleChange = (event) => {\n        this.setState({ paymentMethod: event.target.value });\n    }\n\n    test= (event) => {\n        this.setState({ code: event.target.value });\n    }\n    render() {\n        return (\n         <div style={{marginTop: 100, marginBottom:100}}>\n\n            <div class=\"row\" style={{ marginTop:75}}>\n\n                <div class=\"col-sm-6\">\n                    \n                    <div class=\"card\">\n                        <div class=\"card-body\">\n\n                        \n                        \n                            <h3 class=\"card-title\">Payment Methods</h3><br /><br /><br />\n\n                            <form>\n                                <div className=\"form-group\">\n                                    <input type=\"radio\" value=\"Card Payment\" name=\"paymethod\"  onChange={this.handleChange} /> Card Payment <br /><br />\n                                    <input type=\"radio\" value=\"Cash on Delivery\" name=\"paymethod\"  onChange={this.handleChange} /> Cash on Delivery\n                                </div>\n\n                                <br /><br />\n\n                                <label style={{ float: \"left\" }}> Transaction Date: </label>\n\n                                <div className=\"datewidth\">\n\n                                    {this.state.currentDate}\n\n                                </div>\n\n\n                                <br /><br />\n                                <div className=\"form-group\">\n                                    <label> Description </label>\n                                    <div style={{ marginTop:15 }}>\n                                    <textarea placeholder=\"Sender Remark...\" name=\"description\" className=\"form-control\"\n                                        value={this.state.description} \n                                        onChange={this.changedescriptionHandler}\n                                    />\n                                    </div>\n                                </div>\n\n                            </form>\n\n                        \n                          \n                       </div>\n                    </div>\n                    \n                </div>\n\n                \n\n                <div class=\"col-sm-6\" style={{ borderRadius:'20%'}}>\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                    \n                       \n                            <h3>Order Summary</h3>\n                            <form>\n                                <br />\n                                <div className=\"form-group\">\n                                    <label style={{ float: \"left\" }}> Store Total </label>\n                                    <div className=\"inputwidth\">\n                                        <span>                                \n\n                                                <div style={{ fontWeight:\"bold\" }}>Rs. {this.state.storeTotal}</div>\n\n                                        </span>\n                                    </div>\n                                </div>\n                                </form>\n\n                                <br />\n                                <div className=\"form-group\">\n                                    <label> Promo Code </label><br /><br />\n                                    <div className = \"samelinebtn\">\n                                    <div className=\"inputwidth2\">\n                                        <input type=\"text\" placeholder=\"\" name=\"code\" className=\"form-control\" value={this.state.code}                                           \n                                        onChange={this.test}/>\n                                    </div>\n\n                               <div className=\"applybtn\">\n            \t                \n                                <button  onClick={this. retrievecode}>APPLY</button>\n                                </div>\n                                </div>\n                                </div>\n                                <form>\n                                \n\n\n                                \n\n                                <hr style={{\n                                    color: '#000000',\n                                    backgroundColor: '#000000',\n                                    height: .5,\n                                    borderColor: '#000000'\n                                }} />\n\n\n                               \n\n                                <div className=\"form-group\">\n                                    <label style={{ float: \"left\" }}> Total </label>\n                                    <div className=\"inputwidth\">\n                                        <span> \n                                            \n                                        <div style={{ color:\"orange\", fontWeight:\"bold\" }}>Rs. {this.state.calTotal}</div>\n                                            \n                                        </span>\n                                    </div>\n                                </div>\n\n\n\n\n                                <br />\n\n\n\n                                <button className=\"placebtn\" onClick={this.placeorder}>Place Order</button>\n\n                            \n\n                            \n                            </form>\n                        </div>\n\n                     </div>   \n              \n                </div>             \n\n\n                \n            </div>\n        </div>\n\n\n        );\n    }\n}\n\nexport default MakePaymentComponent;"]},"metadata":{},"sourceType":"module"}