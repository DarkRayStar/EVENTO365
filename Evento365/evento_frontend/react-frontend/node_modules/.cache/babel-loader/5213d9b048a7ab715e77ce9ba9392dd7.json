{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\ITP Final\\\\ITP INDIKA ---} DULSHAN---} YASIRU\\\\itp_project-kdy-_2021_-wd02-main\\\\Evento365\\\\evento_frontend\\\\react-frontend\\\\src\\\\rentingComponent\\\\ItemDetailComponent.jsx\";\nimport React, { Component } from 'react';\nimport RentalItemService from '../rentingServices/RentalItemService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ItemDetailComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeQuantityHandler = event => {\n      this.setState({\n        quantity: event.target.value\n      });\n    };\n\n    this.addItem = e => {\n      e.preventDefault();\n      let temporaryitem = {\n        quantity: this.state.quantity,\n        name: this.state.name,\n        price: this.state.quantity * this.state.rentalperday,\n        bookingid: this.state.bookingid\n      };\n      console.log('tempraryitem => ' + JSON.stringify(temporaryitem));\n\n      if (this.state.availableunits < this.state.quantity) {\n        window.alert(\"We have only \" + this.state.availableunits + \" items\");\n      } else {\n        RentalItemService.createTemporaryItemCart(temporaryitem).then(res => {\n          //this.props.history.push('/temporaryitems');\n          this.props.history.push('/order-detail');\n        });\n        let rentalitem = {\n          name: this.state.name,\n          description: this.state.description,\n          rentalperday: this.state.rentalperday,\n          image: this.state.image,\n          totalunits: this.state.totalunits,\n          availableunits: this.state.availableunits - this.state.quantity\n        };\n        RentalItemService.updateAvailable(rentalitem, this.state.rentalitemid).then(res => {});\n      }\n    };\n\n    this.state = {\n      rentalitemid: this.props.match.params.rentalitemid,\n      name: '',\n      quantity: '',\n      bookingid: '2',\n      image: '',\n      price: '',\n      description: '',\n      totalunits: 100,\n      rentalperday: '',\n      availableunits: ''\n    };\n    this.changeQuantityHandler = this.changeQuantityHandler.bind(this);\n    this.addItem = this.addItem.bind(this);\n  }\n\n  componentDidMount() {\n    RentalItemService.getItemsById(this.state.rentalitemid).then(res => {\n      let rentalitem = res.data;\n      this.setState({\n        name: rentalitem.name,\n        description: rentalitem.description,\n        rentalperday: rentalitem.rentalperday,\n        description: rentalitem.description,\n        image: rentalitem.image,\n        availableunits: rentalitem.availableunits,\n        totalunits: rentalitem.totalunits\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          paddingTop: \"170px\",\n          paddingBottom: \"170px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"formDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"main\", {\n            class: \"mt-5 pt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"container dark-grey-text mt-5\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row wow fadeIn\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-6 mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"500px\",\n                          height: \"500px\"\n                        },\n                        src: this.state.image\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-6 mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"p-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"lead font-weight-bold\",\n                      children: [\" \", this.state.name, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"lead\",\n                      children: [\" Rs.\", this.state.rentalperday, \" Per day \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"lead\",\n                      children: [\" Available units : \", this.state.availableunits]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 105,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"lead\",\n                      children: [\" \", this.state.description, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                      onSubmit: this.addItem,\n                      class: \"d-flex justify-content-left\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: \" Quantity \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 45\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"Quantity\",\n                          name: \"quantity\",\n                          className: \"form-control\",\n                          value: this.state.quantity,\n                          onChange: this.changeQuantityHandler,\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 45\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          style: {\n                            width: \"150px\",\n                            height: \"40px\",\n                            marginTop: \"20px\"\n                          },\n                          className: \"btn btn-success\",\n                          type: \"submit\",\n                          value: \"Add to booking\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 114,\n                          columnNumber: 45\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 41\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ItemDetailComponent;","map":{"version":3,"sources":["C:/Users/USER/Desktop/ITP Final/ITP INDIKA ---} DULSHAN---} YASIRU/itp_project-kdy-_2021_-wd02-main/Evento365/evento_frontend/react-frontend/src/rentingComponent/ItemDetailComponent.jsx"],"names":["React","Component","RentalItemService","ItemDetailComponent","constructor","props","changeQuantityHandler","event","setState","quantity","target","value","addItem","e","preventDefault","temporaryitem","state","name","price","rentalperday","bookingid","console","log","JSON","stringify","availableunits","window","alert","createTemporaryItemCart","then","res","history","push","rentalitem","description","image","totalunits","updateAvailable","rentalitemid","match","params","bind","componentDidMount","getItemsById","data","render","paddingTop","paddingBottom","width","height","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport RentalItemService from '../rentingServices/RentalItemService';\n\n\n\nclass ItemDetailComponent extends Component {\n    constructor(props){\n        super(props)\n            this.state = {\n                rentalitemid : this.props.match.params.rentalitemid,\n                name:'',\n                quantity:'',\n                bookingid:'2',\n                image:'',\n                price:'',\n                description: '',\n                totalunits:100,\n                rentalperday:'',\n                availableunits: '',\n            }\n\n           this.changeQuantityHandler =  this.changeQuantityHandler.bind(this);\n           this.addItem = this.addItem.bind(this);\n    }\n\n    changeQuantityHandler = (event) => {\n        this.setState({quantity: event.target.value});\n    }\n\n    addItem= (e) => {   \n        e.preventDefault();\n        let temporaryitem = {quantity: this.state.quantity,name:this.state.name,\n            price:(this.state.quantity*this.state.rentalperday),\n            bookingid: this.state.bookingid};\n        console.log('tempraryitem => ' + JSON.stringify(temporaryitem));\n\n        if (this.state.availableunits < this.state.quantity){\n\n            window.alert(\"We have only \" + this.state.availableunits + \" items\");\n        }\n        else {\n            RentalItemService.createTemporaryItemCart(temporaryitem).then(res => {\n                //this.props.history.push('/temporaryitems');\n                this.props.history.push('/order-detail');\n            })\n        \n            let rentalitem =   {name:this.state.name,\n                description:this.state.description,\n                rentalperday:this.state.rentalperday,\n                image: this.state.image,\n                totalunits:this.state.totalunits,\n                availableunits: this.state.availableunits - this.state.quantity,\n            };\n           \n            RentalItemService.updateAvailable(rentalitem, this.state.rentalitemid).then(res => {\n                \n            }); \n\n        }  \n    }\n\n    componentDidMount(){\n        RentalItemService.getItemsById(this.state.rentalitemid).then((res) => {\n            let rentalitem = res.data;\n            this.setState({name: rentalitem.name,\n                description: rentalitem.description,\n                rentalperday: rentalitem.rentalperday,\n                description: rentalitem.description,\n                image: rentalitem.image,\n                availableunits: rentalitem.availableunits,\n                totalunits: rentalitem.totalunits,\n            });\n        });\n\n    }\n\n\n    render() {\n \n        return (\n            \n        <div>\n            <div className=\"row\" style={{paddingTop:\"170px\", paddingBottom:\"170px\"}}>\n\n            {/* <center> */}\n\n            <div class=\"formDiv\" >\n                <main class=\"mt-5 pt-4\">\n                    <div class=\"container dark-grey-text mt-5\">\n                        <div class=\"row wow fadeIn\">\n\n                            <div class=\"col-md-6 mb-4\"> \n                            <div>\n                            <center>\n                                <img style={{width:\"500px\", height:\"500px\"}} src={this.state.image}></img> \n                            </center>\n                            </div>\n                            </div>\n\n                            <div class=\"col-md-6 mb-4\">  \n\n                                <div class=\"p-4\">\n                                    <p class=\"lead font-weight-bold\"> {this.state.name} </p>\n                                    <p class=\"lead\"> Rs.{this.state.rentalperday} Per day </p>     \n                                    <p class=\"lead\"> Available units : {this.state.availableunits}</p> \n                                    <p class=\"lead\"> {this.state.description} </p> \n                                    \n\n                                    <form onSubmit={this.addItem} class=\"d-flex justify-content-left\">\n                                        <div className=\"form-group\">\n                                            <label> Quantity </label>\n                                            <input placeholder=\"Quantity\" name=\"quantity\" className=\"form-control\" \n                                            value={this.state.quantity} onChange={this.changeQuantityHandler} required/>\n                                            <input style={{width:\"150px\", height:\"40px\",marginTop:\"20px\"}} className=\"btn btn-success\" type=\"submit\" value=\"Add to booking\"></input>\n                                        </div>\n                                    </form>\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </main>\n            </div>\n\n            {/* </center> */}\n</div>\n        </div>\n        );\n    }\n}\n\nexport default ItemDetailComponent;"]},"metadata":{},"sourceType":"module"}