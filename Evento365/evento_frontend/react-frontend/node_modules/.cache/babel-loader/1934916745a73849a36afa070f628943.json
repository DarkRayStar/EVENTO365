{"ast":null,"code":"var _jsxFileName = \"D:\\\\SLIIT\\\\Y2 S2\\\\ITP\\\\ITP_DOWNLOADED\\\\itp_project-kdy-_2021_-wd02-main\\\\Evento365\\\\evento_frontend\\\\react-frontend\\\\src\\\\bookingComponents\\\\UpdateBookingComponent.jsx\";\nimport React, { Component } from 'react';\nimport BookingService from '../bookingServices/BookingService';\nimport LocationService from '../bookingServices/LocationService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UpdateBookingComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateBooking = e => {\n      e.preventDefault();\n      let booking = {\n        event_type: this.state.eventType,\n        booking_date: this.state.bookingDate,\n        gusts: this.state.gustsCount,\n        location_id: this.state.locationID,\n        date: this.state.date,\n        customer_id: this.state.CustomerID,\n        total: this.state.total,\n        status: this.state.status\n      };\n      console.log('booking =>' + JSON.stringify(booking));\n      BookingService.updateBooking(booking, this.state.id).then(res => {\n        this.props.history.push('/bookings');\n      });\n    };\n\n    this.changeStatusTypeHandler = event => {\n      this.setState({\n        status: event.target.value\n      });\n    };\n\n    this.changeEventTypeHandler = event => {\n      this.setState({\n        eventType: event.target.value\n      });\n    };\n\n    this.changeEventTypeHandler = event => {\n      this.setState({\n        eventType: event.target.value\n      });\n    };\n\n    this.changeBookingDateHandler = event => {\n      this.setState({\n        bookingDate: event.target.value\n      });\n    };\n\n    this.changeGustsHandler = event => {\n      this.setState({\n        gustsCount: event.target.value\n      });\n    };\n\n    this.changeLocationHandler = event => {\n      this.setState({\n        locationID: event.target.value\n      });\n    };\n\n    this.state = {\n      id: this.props.match.params.id,\n      eventType: '',\n      CustomerID: '',\n      bookingDate: '',\n      locationID: '',\n      gustsCount: '',\n      total: '',\n      date: '',\n      status: '',\n      location: []\n    };\n    this.changeEventTypeHandler = this.changeEventTypeHandler.bind(this);\n    this.changeBookingDateHandler = this.changeBookingDateHandler.bind(this);\n    this.changeGustsHandler = this.changeGustsHandler.bind(this);\n    this.changeLocationHandler = this.changeLocationHandler.bind(this);\n    this.updateBooking = this.updateBooking.bind(this);\n    this.changeStatusTypeHandler = this.changeStatusTypeHandler.bind(this);\n  }\n\n  componentDidMount() {\n    BookingService.getBookingById(this.state.id).then(res => {\n      let booking = res.data;\n      this.setState({\n        eventType: booking.event_type,\n        CustomerID: booking.customer_id,\n        bookingDate: booking.booking_date,\n        locationID: booking.location_id,\n        gustsCount: booking.gusts,\n        date: booking.date,\n        total: booking.total,\n        status: booking.status\n      });\n      LocationService.getLocationById(res.data.location_id).then(res => {\n        this.setState({\n          location: res.data\n        });\n      });\n    });\n  } //get data to the json\n\n\n  //redirect to the booking page\n  cancel() {\n    this.props.history.push('/bookings');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        class: \"section background-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"line text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            class: \"text-dark text-s-size-30 text-m-size-40 text-l-size-60 text-thin text-line-height-1\",\n            children: \"Welcome to Booking Section\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          class: \"full-width\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container shadow-custom bg-image\",\n            style: {\n              backgroundImage: \"url('https://www.bricoflor.co.uk/media/catalog/product/cache/7/image/1250x1250/9df78eab33525d08d6e5fb8d27136e95/3/0/305451_8.jpg')\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              style: {\n                width: \"500px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"formDivgg\",\n                  style: {\n                    width: \"500px\",\n                    marginBlockStart: \"20px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"text-center\",\n                    children: \"Booking Review\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 42\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: /*#__PURE__*/_jsxDEV(\"form\", {\n                      onSubmit: this.updateBooking.bind(this),\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Event type\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 129,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"Birthday\",\n                          name: \"evenType\",\n                          className: \"form-control\",\n                          onChange: this.changeEventTypeHandler,\n                          value: this.state.eventType,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Booking Date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 135,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"Date\",\n                          name: \"bookingDate\",\n                          className: \"form-control\",\n                          onChange: this.changeBookingDateHandler,\n                          value: this.state.bookingDate,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 136,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Number of Gusts\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 141,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"No of gusts\",\n                          name: \"gustsCount\",\n                          className: \"form-control\",\n                          onChange: this.changeGustsHandler,\n                          value: this.state.gustsCount,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 142,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Location ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 148,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"locationID\",\n                          name: \"locationID\",\n                          className: \"form-control\",\n                          onChange: this.changeLocationHandler,\n                          value: this.state.locationID,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 149,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Customer ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"Customer ID\",\n                          name: \"cusid\",\n                          className: \"form-control\",\n                          value: this.state.CustomerID,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 156,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Total Amount\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 162,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          placeholder: \"Total\",\n                          name: \"total\",\n                          className: \"form-control\",\n                          value: this.state.total,\n                          readOnly: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 163,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Location Picture\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 169,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            style: {\n                              height: \"300px\",\n                              width: \"400px\"\n                            },\n                            src: this.state.location.picture,\n                            className: \"img-thumbnail\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 171,\n                            columnNumber: 49\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 170,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 168,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group \",\n                        children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n                          children: \"Event type\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 176,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          name: \"evenType\",\n                          className: \"form-control\",\n                          onChange: this.changeStatusTypeHandler,\n                          value: this.state.status,\n                          required: true,\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"pending\",\n                            selected: this.state.status == \"pending\" ? true : false,\n                            children: \"Pending\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 178,\n                            columnNumber: 53\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"approved\",\n                            selected: this.state.status == \"approved\" ? true : false,\n                            children: \"Approved\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 179,\n                            columnNumber: 53\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 177,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"submit\",\n                        className: \"btn btn-success\",\n                        style: {\n                          marginTop: \"10px\"\n                        },\n                        value: \"Update Booking\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 185,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-danger\",\n                        onClick: this.cancel.bind(this),\n                        style: {\n                          marginLeft: \"10px\",\n                          marginTop: \"10px\"\n                        },\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UpdateBookingComponent;","map":{"version":3,"sources":["D:/SLIIT/Y2 S2/ITP/ITP_DOWNLOADED/itp_project-kdy-_2021_-wd02-main/Evento365/evento_frontend/react-frontend/src/bookingComponents/UpdateBookingComponent.jsx"],"names":["React","Component","BookingService","LocationService","UpdateBookingComponent","constructor","props","updateBooking","e","preventDefault","booking","event_type","state","eventType","booking_date","bookingDate","gusts","gustsCount","location_id","locationID","date","customer_id","CustomerID","total","status","console","log","JSON","stringify","id","then","res","history","push","changeStatusTypeHandler","event","setState","target","value","changeEventTypeHandler","changeBookingDateHandler","changeGustsHandler","changeLocationHandler","match","params","location","bind","componentDidMount","getBookingById","data","getLocationById","cancel","render","backgroundImage","width","marginBlockStart","height","picture","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport BookingService from '../bookingServices/BookingService';\nimport LocationService from '../bookingServices/LocationService';\n\nclass UpdateBookingComponent extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            id: this.props.match.params.id,\n            eventType: '',\n            CustomerID: '',\n            bookingDate: '',\n            locationID: '',\n            gustsCount: '',\n            total: '',\n            date: '',\n            status: '',\n            location:[],\n\n        }\n        this.changeEventTypeHandler = this.changeEventTypeHandler.bind(this);\n        this.changeBookingDateHandler = this.changeBookingDateHandler.bind(this);\n        this.changeGustsHandler = this.changeGustsHandler.bind(this);\n        this.changeLocationHandler = this.changeLocationHandler.bind(this);\n        this.updateBooking = this.updateBooking.bind(this);\n        this.changeStatusTypeHandler = this.changeStatusTypeHandler.bind(this);\n    }\n\n    componentDidMount() {\n        BookingService.getBookingById(this.state.id).then((res) => {\n            let booking = res.data;\n\n            this.setState({\n\n                eventType: booking.event_type,\n                CustomerID: booking.customer_id,\n                bookingDate: booking.booking_date,\n                locationID: booking.location_id,\n                gustsCount: booking.gusts,\n                date: booking.date,\n                total: booking.total,\n                status: booking.status,\n            });\n\n            LocationService.getLocationById(res.data.location_id).then(res=>{\n                this.setState({\n                    location: res.data\n                });\n            });\n        });\n\n        \n\n    }\n\n    //get data to the json\n    updateBooking = (e) => {\n        e.preventDefault();\n        let booking = {event_type: this.state.eventType, \n            booking_date: this.state.bookingDate, \n            gusts: this.state.gustsCount, \n            location_id: this.state.locationID, \n            date: this.state.date,\n            customer_id: this.state.CustomerID,\n            total: this.state.total,\n            status: this.state.status    \n        };\n        console.log('booking =>' + JSON.stringify(booking));\n\n        BookingService.updateBooking(booking, this.state.id).then(res => {\n            this.props.history.push('/bookings');\n        });\n\n    }\n\n\n    changeStatusTypeHandler = (event) => {\n        this.setState({ status: event.target.value });\n    }\n\n    changeEventTypeHandler = (event) => {\n        this.setState({ eventType: event.target.value });\n    }\n\n    changeEventTypeHandler = (event) => {\n        this.setState({ eventType: event.target.value });\n    }\n    changeBookingDateHandler = (event) => {\n        this.setState({ bookingDate: event.target.value });\n    }\n    changeGustsHandler = (event) => {\n        this.setState({ gustsCount: event.target.value });\n    }\n\n    changeLocationHandler = (event) => {\n        this.setState({ locationID: event.target.value });\n    }\n\n    //redirect to the booking page\n    cancel() {\n        this.props.history.push('/bookings');\n    }\n\n    render() {\n        return (\n            <div>\n                <header class=\"section background-white\" >\n\n                    <div class=\"line text-center\">\n                        <h2 class=\"text-dark text-s-size-30 text-m-size-40 text-l-size-60 text-thin text-line-height-1\">Welcome to Booking Section</h2>\n                        <br></br>\n                    </div>\n\n                    <section class=\"full-width\" >\n\n\n                        <div className=\"container shadow-custom bg-image\" style={{ backgroundImage: \"url('https://www.bricoflor.co.uk/media/catalog/product/cache/7/image/1250x1250/9df78eab33525d08d6e5fb8d27136e95/3/0/305451_8.jpg')\" }}>\n                        \n                            <div className=\"container\" style={{width:\"500px\"}}>\n                                \n                                <div className=\"row\">\n                                    \n                                    <div className=\"formDivgg\" style={{width:\"500px\", marginBlockStart:\"20px\"}}>\n                                         <h2 className=\"text-center\" >Booking Review</h2>\n                                        <div className=\"card-body\">\n                                            <form onSubmit={this.updateBooking.bind(this)}>\n                                                <div className=\"form-group\">\n                                                    <lable>Event type</lable>\n                                                    <input placeholder=\"Birthday\" name=\"evenType\" className=\"form-control\"\n                                                        onChange={this.changeEventTypeHandler} value={this.state.eventType} readOnly={true}/>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <lable>Booking Date</lable>\n                                                    <input placeholder=\"Date\" name=\"bookingDate\" className=\"form-control\"\n                                                        onChange={this.changeBookingDateHandler} value={this.state.bookingDate} readOnly={true}/>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <lable>Number of Gusts</lable>\n                                                    <input placeholder=\"No of gusts\" name=\"gustsCount\" className=\"form-control\"\n                                                        onChange={this.changeGustsHandler} value={this.state.gustsCount} readOnly={true}/>\n\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <lable>Location ID</lable>\n                                                    <input placeholder=\"locationID\" name=\"locationID\" className=\"form-control\"\n                                                        onChange={this.changeLocationHandler} value={this.state.locationID} readOnly={true}/>\n\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <lable>Customer ID</lable>\n                                                    <input placeholder=\"Customer ID\" name=\"cusid\" className=\"form-control\"\n                                                        value={this.state.CustomerID} readOnly={true}/>\n\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <lable>Total Amount</lable>\n                                                    <input placeholder=\"Total\" name=\"total\" className=\"form-control\"\n                                                         value={this.state.total} readOnly={true}/>\n\n                                                </div>\n\n                                                <div>\n                                                <lable>Location Picture</lable>\n                                                <center>\n                                                <img style={{ height: \"300px\", width: \"400px\"}} src={this.state.location.picture} className=\"img-thumbnail\" />\n                                                </center>\n                                                </div>\n                                            \n                                                <div className=\"form-group \">\n                                                <lable >Event type</lable>\n                                                <select name=\"evenType\" className=\"form-control\"  onChange={this.changeStatusTypeHandler} value={this.state.status} required>\n                                                    <option value=\"pending\" selected={this.state.status==\"pending\"?true:false}>Pending</option>\n                                                    <option value=\"approved\" selected={this.state.status==\"approved\"?true:false}>Approved</option>                                   \n                                                </select>\n                                            </div>   \n\n\n\n                                                <input type=\"submit\" className=\"btn btn-success\" style={{ marginTop: \"10px\" }} value=\"Update Booking\"></input>\n                                                <button className=\"btn btn-danger\" onClick={this.cancel.bind(this)} style={{ marginLeft: \"10px\", marginTop: \"10px\" }}>Cancel</button>\n\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </section>\n                </header>\n            </div>\n        );\n    }\n}\n\nexport default UpdateBookingComponent;"]},"metadata":{},"sourceType":"module"}